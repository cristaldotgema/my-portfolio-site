!function(e){"use strict";if(void 0!==e)if(e.fn.jquery.match(/-ajax/))"console"in window&&window.console.info("Featherlight needs regular jQuery, not the slim version.");else{var t=[],n=function(n){return t=e.grep(t,function(e){return e!==n&&e.$instance.closest("body").length>0})},r={allow:1,allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,mozallowfullscreen:1,name:1,referrerpolicy:1,sandbox:1,scrolling:1,src:1,srcdoc:1,style:1,webkitallowfullscreen:1,width:1},i={keyup:"onKeyUp",resize:"onResize"},o=function(t){e.each(s.opened().reverse(),function(){if(!t.isDefaultPrevented()&&!1===this[i[t.type]](t))return t.preventDefault(),t.stopPropagation(),!1})},a=function(t){if(t!==s._globalHandlerInstalled){s._globalHandlerInstalled=t;var n=e.map(i,function(e,t){return t+"."+s.prototype.namespace}).join(" ");e(window)[t?"on":"off"](n,o)}};s.prototype={constructor:s,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:e.noop,beforeContent:e.noop,beforeClose:e.noop,afterOpen:e.noop,afterContent:e.noop,afterClose:e.noop,onKeyUp:e.noop,onResize:e.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(t,n){"object"!=typeof t||t instanceof e!=!1||n||(n=t,t=void 0);var r=e.extend(this,n,{target:t}),i=r.resetCss?r.namespace+"-reset":r.namespace,o=e(r.background||['<div class="'+i+"-loading "+i+'">','<div class="'+i+'-content">','<button class="'+i+"-close-icon "+r.namespace+'-close" aria-label="Close">',r.closeIcon,"</button>",'<div class="'+r.namespace+'-inner">'+r.loading+"</div>","</div>","</div>"].join("")),a="."+r.namespace+"-close"+(r.otherClose?","+r.otherClose:"");return r.$instance=o.clone().addClass(r.variant),r.$instance.on(r.closeTrigger+"."+r.namespace,function(t){if(!t.isDefaultPrevented()){var n=e(t.target);("background"===r.closeOnClick&&n.is("."+r.namespace)||"anywhere"===r.closeOnClick||n.closest(a).length)&&(r.close(t),t.preventDefault())}}),this},getContent:function(){if(!1!==this.persist&&this.$content)return this.$content;var t=this,n=this.constructor.contentFilters,r=function(e){return t.$currentTarget&&t.$currentTarget.attr(e)},i=r(t.targetAttr),o=t.target||i||"",a=n[t.type];if(!a&&o in n&&(a=n[o],o=t.target&&i),o=o||r("href")||"",!a)for(var s in n)t[s]&&(a=n[s],o=t[s]);if(!a){var c=o;if(o=null,e.each(t.contentFilters,function(){return(a=n[this]).test&&(o=a.test(c)),!o&&a.regex&&c.match&&c.match(a.regex)&&(o=c),!o}),!o)return"console"in window&&window.console.error("Featherlight: no content filter found "+(c?' for "'+c+'"':" (no target specified)")),!1}return a.process.call(t,o)},setContent:function(t){return this.$instance.removeClass(this.namespace+"-loading"),this.$instance.toggleClass(this.namespace+"-iframe",t.is("iframe")),this.$instance.find("."+this.namespace+"-inner").not(t).slice(1).remove().end().replaceWith(e.contains(this.$instance[0],t[0])?"":t),this.$content=t.addClass(this.namespace+"-inner"),this},open:function(n){var r=this;if(r.$instance.hide().appendTo(r.root),!(n&&n.isDefaultPrevented()||!1===r.beforeOpen(n))){n&&n.preventDefault();var i=r.getContent();if(i)return t.push(r),a(!0),r.$instance.fadeIn(r.openSpeed),r.beforeContent(n),e.when(i).always(function(e){r.setContent(e),r.afterContent(n)}).then(r.$instance.promise()).done(function(){r.afterOpen(n)})}return r.$instance.detach(),e.Deferred().reject().promise()},close:function(t){var r=this,i=e.Deferred();return!1===r.beforeClose(t)?i.reject():(0===n(r).length&&a(!1),r.$instance.fadeOut(r.closeSpeed,function(){r.$instance.detach(),r.afterClose(t),i.resolve()})),i.promise()},resize:function(e,t){if(e&&t){this.$content.css("width","").css("height","");var n=Math.max(e/(this.$content.parent().width()-1),t/(this.$content.parent().height()-1));n>1&&(n=t/Math.floor(t/n),this.$content.css("width",e/n+"px").css("height",t/n+"px"))}},chainCallbacks:function(t){for(var n in t)this[n]=e.proxy(t[n],this,e.proxy(this[n],this))}},e.extend(s,{id:0,autoBind:"[data-featherlight]",defaults:s.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(t){return t instanceof e&&t},process:function(t){return!1!==this.persist?e(t):e(t).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff?|bmp|svg)(\?\S*)?$/i,process:function(t){var n=e.Deferred(),r=new Image,i=e('<img src="'+t+'" alt="" class="'+this.namespace+'-image" />');return r.onload=function(){i.naturalWidth=r.width,i.naturalHeight=r.height,n.resolve(i)},r.onerror=function(){n.reject(i)},r.src=t,n.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(t){return e(t)}},ajax:{regex:/./,process:function(t){var n=e.Deferred(),r=e("<div></div>").load(t,function(e,t){"error"!==t&&n.resolve(r.contents()),n.fail()});return n.promise()}},iframe:{process:function(t){var n=new e.Deferred,i=e("<iframe/>"),o=function(e,t){var n={},r=new RegExp("^"+t+"([A-Z])(.*)");for(var i in e){var o=i.match(r);o&&(n[(o[1]+o[2].replace(/([A-Z])/g,"-$1")).toLowerCase()]=e[i])}return n}(this,"iframe"),a=function(e,t){var n={};for(var r in e)r in t&&(n[r]=e[r],delete e[r]);return n}(o,r);return i.hide().attr("src",t).attr(a).css(o).on("load",function(){n.resolve(i.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),n.promise()}},text:{process:function(t){return e("<div>",{text:t})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(t,n){var r=this,i=new RegExp("^data-"+n+"-(.*)"),o={};return t&&t.attributes&&e.each(t.attributes,function(){var t=this.name.match(i);if(t){var n=this.value,a=e.camelCase(t[1]);if(e.inArray(a,r.functionAttributes)>=0)n=new Function(n);else try{n=JSON.parse(n)}catch(e){}o[a]=n}}),o},extend:function(t,n){var r=function(){this.constructor=t};return r.prototype=this.prototype,t.prototype=new r,t.__super__=this.prototype,e.extend(t,this,n),t.defaults=t.prototype,t},attach:function(t,n,r){var i=this;"object"!=typeof n||n instanceof e!=!1||r||(r=n,n=void 0);var o,a=(r=e.extend({},r)).namespace||i.defaults.namespace,s=e.extend({},i.defaults,i.readElementConfig(t[0],a),r),c=function(a){var c=e(a.currentTarget),l=e.extend({$source:t,$currentTarget:c},i.readElementConfig(t[0],s.namespace),i.readElementConfig(a.currentTarget,s.namespace),r),u=o||c.data("featherlight-persisted")||new i(n,l);"shared"===u.persist?o=u:!1!==u.persist&&c.data("featherlight-persisted",u),l.$currentTarget.blur&&l.$currentTarget.blur(),u.open(a)};return t.on(s.openTrigger+"."+s.namespace,s.filter,c),{filter:s.filter,handler:c}},current:function(){var e=this.opened();return e[e.length-1]||null},opened:function(){var r=this;return n(),e.grep(t,function(e){return e instanceof r})},close:function(e){var t=this.current();if(t)return t.close(e)},_onReady:function(){var t=this;if(t.autoBind){var n=e(t.autoBind);n.each(function(){t.attach(e(this))}),e(document).on("click",t.autoBind,function(r){if(!r.isDefaultPrevented()){var i=e(r.currentTarget);if(n.length!==(n=n.add(i)).length){var o=t.attach(i);(!o.filter||e(r.target).parentsUntil(i,o.filter).length>0)&&o.handler(r)}}})}},_callbackChain:{onKeyUp:function(t,n){return 27===n.keyCode?(this.closeOnEsc&&e.featherlight.close(n),!1):t(n)},beforeOpen:function(t,n){return e(document.documentElement).addClass("with-featherlight"),this._previouslyActive=document.activeElement,this._$previouslyTabbable=e("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=e("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(t,n){return e(n).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur&&document.activeElement.blur(),t(n)},afterClose:function(t,n){var r=t(n),i=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(t,n){e(n).attr("tabindex",i._previousWithTabIndices[t])}),this._previouslyActive.focus(),0===s.opened().length&&e(document.documentElement).removeClass("with-featherlight"),r},onResize:function(e,t){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),e(t)},afterContent:function(e,t){var n=e(t);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(t),n}}}),e.featherlight=s,e.fn.featherlight=function(e,t){return s.attach(this,e,t),this},e(document).ready(function(){s._onReady()})}else"console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery.");function s(e,t){if(!(this instanceof s)){var n=new s(e,t);return n.open(),n}this.id=s.id++,this.setup(e,t),this.chainCallbacks(s._callbackChain)}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZlYXRoZXJsaWdodC5qcyJdLCJuYW1lcyI6WyIkIiwiZm4iLCJqcXVlcnkiLCJtYXRjaCIsIndpbmRvdyIsImNvbnNvbGUiLCJpbmZvIiwib3BlbmVkIiwicHJ1bmVPcGVuZWQiLCJyZW1vdmUiLCJncmVwIiwiZmwiLCIkaW5zdGFuY2UiLCJjbG9zZXN0IiwibGVuZ3RoIiwiaUZyYW1lQXR0cmlidXRlU2V0IiwiYWxsb3ciLCJhbGxvd2Z1bGxzY3JlZW4iLCJmcmFtZWJvcmRlciIsImhlaWdodCIsImxvbmdkZXNjIiwibWFyZ2luaGVpZ2h0IiwibWFyZ2lud2lkdGgiLCJtb3phbGxvd2Z1bGxzY3JlZW4iLCJuYW1lIiwicmVmZXJyZXJwb2xpY3kiLCJzYW5kYm94Iiwic2Nyb2xsaW5nIiwic3JjIiwic3JjZG9jIiwic3R5bGUiLCJ3ZWJraXRhbGxvd2Z1bGxzY3JlZW4iLCJ3aWR0aCIsImV2ZW50TWFwIiwia2V5dXAiLCJyZXNpemUiLCJnbG9iYWxFdmVudEhhbmRsZXIiLCJldmVudCIsImVhY2giLCJGZWF0aGVybGlnaHQiLCJyZXZlcnNlIiwiaXNEZWZhdWx0UHJldmVudGVkIiwidGhpcyIsInR5cGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInRvZ2dsZUdsb2JhbEV2ZW50cyIsInNldCIsIl9nbG9iYWxIYW5kbGVySW5zdGFsbGVkIiwiZXZlbnRzIiwibWFwIiwiXyIsInByb3RvdHlwZSIsIm5hbWVzcGFjZSIsImpvaW4iLCJjb25zdHJ1Y3RvciIsInRhcmdldEF0dHIiLCJ2YXJpYW50IiwicmVzZXRDc3MiLCJiYWNrZ3JvdW5kIiwib3BlblRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJmaWx0ZXIiLCJyb290Iiwib3BlblNwZWVkIiwiY2xvc2VTcGVlZCIsImNsb3NlT25DbGljayIsImNsb3NlT25Fc2MiLCJjbG9zZUljb24iLCJsb2FkaW5nIiwicGVyc2lzdCIsIm90aGVyQ2xvc2UiLCJiZWZvcmVPcGVuIiwibm9vcCIsImJlZm9yZUNvbnRlbnQiLCJiZWZvcmVDbG9zZSIsImFmdGVyT3BlbiIsImFmdGVyQ29udGVudCIsImFmdGVyQ2xvc2UiLCJvbktleVVwIiwib25SZXNpemUiLCJjb250ZW50RmlsdGVycyIsInNldHVwIiwidGFyZ2V0IiwiY29uZmlnIiwidW5kZWZpbmVkIiwic2VsZiIsImV4dGVuZCIsImNzcyIsIiRiYWNrZ3JvdW5kIiwiY2xvc2VCdXR0b25TZWxlY3RvciIsImNsb25lIiwiYWRkQ2xhc3MiLCJvbiIsIiR0YXJnZXQiLCJpcyIsImNsb3NlIiwiZ2V0Q29udGVudCIsIiRjb250ZW50IiwiZmlsdGVycyIsInJlYWRUYXJnZXRBdHRyIiwiJGN1cnJlbnRUYXJnZXQiLCJhdHRyIiwidGFyZ2V0VmFsdWUiLCJkYXRhIiwiZmlsdGVyTmFtZSIsInRlc3QiLCJyZWdleCIsImVycm9yIiwicHJvY2VzcyIsImNhbGwiLCJzZXRDb250ZW50IiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJub3QiLCJzbGljZSIsImVuZCIsInJlcGxhY2VXaXRoIiwiY29udGFpbnMiLCJvcGVuIiwiaGlkZSIsImFwcGVuZFRvIiwicHVzaCIsImZhZGVJbiIsIndoZW4iLCJhbHdheXMiLCJ0aGVuIiwicHJvbWlzZSIsImRvbmUiLCJkZXRhY2giLCJEZWZlcnJlZCIsInJlamVjdCIsImRlZmVycmVkIiwiZmFkZU91dCIsInJlc29sdmUiLCJ3IiwiaCIsInJhdGlvIiwiTWF0aCIsIm1heCIsInBhcmVudCIsImZsb29yIiwiY2hhaW5DYWxsYmFja3MiLCJjaGFpbiIsInByb3h5IiwiaWQiLCJhdXRvQmluZCIsImRlZmF1bHRzIiwiZWxlbSIsImltYWdlIiwidXJsIiwiaW1nIiwiSW1hZ2UiLCIkaW1nIiwib25sb2FkIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsIm9uZXJyb3IiLCJodG1sIiwiYWpheCIsIiRjb250YWluZXIiLCJsb2FkIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjb250ZW50cyIsImZhaWwiLCJpZnJhbWUiLCJvYmoiLCJwcmVmaXgiLCJhdHRycyIsIlJlZ0V4cCIsImtleSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInBhcnNlQXR0cnMiLCJyIiwic2hvdyIsInRleHQiLCJmdW5jdGlvbkF0dHJpYnV0ZXMiLCJyZWFkRWxlbWVudENvbmZpZyIsImVsZW1lbnQiLCJLbGFzcyIsInJlZ2V4cCIsImF0dHJpYnV0ZXMiLCJ2YWwiLCJ2YWx1ZSIsImNhbWVsQ2FzZSIsImluQXJyYXkiLCJGdW5jdGlvbiIsIkpTT04iLCJwYXJzZSIsImUiLCJjaGlsZCIsIkN0b3IiLCJfX3N1cGVyX18iLCJhdHRhY2giLCIkc291cmNlIiwic2hhcmVkUGVyc2lzdCIsInRlbXBDb25maWciLCJoYW5kbGVyIiwiY3VycmVudFRhcmdldCIsImVsZW1Db25maWciLCJibHVyIiwiY3VycmVudCIsImFsbCIsImtsYXNzIiwiY3VyIiwiX29uUmVhZHkiLCIkYXV0b2JvdW5kIiwiZG9jdW1lbnQiLCJldnQiLCIkY3VyIiwiYWRkIiwicGFyZW50c1VudGlsIiwiX2NhbGxiYWNrQ2hhaW4iLCJfc3VwZXIiLCJrZXlDb2RlIiwiZmVhdGhlcmxpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiX3ByZXZpb3VzbHlBY3RpdmUiLCJhY3RpdmVFbGVtZW50IiwiXyRwcmV2aW91c2x5VGFiYmFibGUiLCJfJHByZXZpb3VzbHlXaXRoVGFiSW5kZXgiLCJfcHJldmlvdXNXaXRoVGFiSW5kaWNlcyIsIl9pIiwicmVtb3ZlQXR0ciIsImkiLCJmb2N1cyIsInJlYWR5IiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FPQyxTQUFTQSxHQUNULGFBRUEsUUFBRyxJQUF1QkEsRUFJMUIsR0FBR0EsRUFBRUMsR0FBR0MsT0FBT0MsTUFBTSxTQUNqQixZQUFhQyxRQUFTQSxPQUFPQyxRQUFRQyxLQUFLLGdFQUQ5QyxDQXFDQSxJQUFJQyxFQUFTLEdBQ1pDLEVBQWMsU0FBU0MsR0FJdEIsT0FIQUYsRUFBU1AsRUFBRVUsS0FBS0gsRUFBUSxTQUFTSSxHQUNo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ZW5MLEVBR2pCdkMsRUFBRUMsR0FBR3lOLGFBQWUsU0FBU3hILEVBQVVkLEdBRXRDLE9BREE3QyxFQUFhNkosT0FBTzFKLEtBQU13RCxFQUFVZCxHQUM3QjFDLE1BSVIxQyxFQUFFa04sVUFBVW1CLE1BQU0sV0FBWTlMLEVBQWF5SyxpQkFwbkJ2QyxZQUFhNU0sUUFBU0EsT0FBT0MsUUFBUUMsS0FBSyxrREE0QjlDLFNBQVNpQyxFQUFhMkQsRUFBVWQsR0FDL0IsS0FBRzFDLGdCQUFnQkgsR0FJWixDQUNOLElBQUk1QixFQUFLLElBQUk0QixFQUFhMkQsRUFBVWQsR0FFcEMsT0FEQXpFLEVBQUc2RyxPQUNJN0csRUFOUCtCLEtBQUt3RyxHQUFLM0csRUFBYTJHLEtBQ3ZCeEcsS0FBS3dDLE1BQU1nQixFQUFVZCxHQUNyQjFDLEtBQUtxRyxlQUFleEcsRUFBYWdMLGlCQXBDcEMsQ0F5bkJFZSIsImZpbGUiOiJmZWF0aGVybGlnaHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZlYXRoZXJsaWdodCAtIHVsdHJhIHNsaW0galF1ZXJ5IGxpZ2h0Ym94XG4gKiBWZXJzaW9uIDEuNy4xMyAtIGh0dHA6Ly9ub2VsYm9zcy5naXRodWIuaW8vZmVhdGhlcmxpZ2h0L1xuICpcbiAqIENvcHlyaWdodCAyMDE4LCBOb8OrbCBSYW91bCBCb3NzYXJ0IChodHRwOi8vd3d3Lm5vZWxib3NzLmNvbSlcbiAqIE1JVCBMaWNlbnNlZC5cbioqL1xuKGZ1bmN0aW9uKCQpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiAkKSB7XG5cdFx0aWYoJ2NvbnNvbGUnIGluIHdpbmRvdyl7IHdpbmRvdy5jb25zb2xlLmluZm8oJ1RvbyBtdWNoIGxpZ2h0bmVzcywgRmVhdGhlcmxpZ2h0IG5lZWRzIGpRdWVyeS4nKTsgfVxuXHRcdHJldHVybjtcblx0fVxuXHRpZigkLmZuLmpxdWVyeS5tYXRjaCgvLWFqYXgvKSkge1xuXHRcdGlmKCdjb25zb2xlJyBpbiB3aW5kb3cpeyB3aW5kb3cuY29uc29sZS5pbmZvKCdGZWF0aGVybGlnaHQgbmVlZHMgcmVndWxhciBqUXVlcnksIG5vdCB0aGUgc2xpbSB2ZXJzaW9uLicpOyB9XG5cdFx0cmV0dXJuO1xuXHR9XG5cdC8qIEZlYXRoZXJsaWdodCBpcyBleHBvcnRlZCBhcyAkLmZlYXRoZXJsaWdodC5cblx0ICAgSXQgaXMgYSBmdW5jdGlvbiB1c2VkIHRvIG9wZW4gYSBmZWF0aGVybGlnaHQgbGlnaHRib3guXG5cblx0ICAgW3RlY2hdXG5cdCAgIEZlYXRoZXJsaWdodCB1c2VzIHByb3RvdHlwZSBpbmhlcml0YW5jZS5cblx0ICAgRWFjaCBvcGVuZWQgbGlnaHRib3ggd2lsbCBoYXZlIGEgY29ycmVzcG9uZGluZyBvYmplY3QuXG5cdCAgIFRoYXQgb2JqZWN0IG1heSBoYXZlIHNvbWUgYXR0cmlidXRlcyB0aGF0IG92ZXJyaWRlIHRoZVxuXHQgICBwcm90b3R5cGUncy5cblx0ICAgRXh0ZW5zaW9ucyBjcmVhdGVkIHdpdGggRmVhdGhlcmxpZ2h0LmV4dGVuZCB3aWxsIGhhdmUgdGhlaXJcblx0ICAgb3duIHByb3RvdHlwZSB0aGF0IGluaGVyaXRzIGZyb20gRmVhdGhlcmxpZ2h0J3MgcHJvdG90eXBlLFxuXHQgICB0aHVzIGF0dHJpYnV0ZXMgY2FuIGJlIG92ZXJyaWRlbiBlaXRoZXIgYXQgdGhlIG9iamVjdCBsZXZlbCxcblx0ICAgb3IgYXQgdGhlIGV4dGVuc2lvbiBsZXZlbC5cblx0ICAgVG8gY3JlYXRlIGNhbGxiYWNrcyB0aGF0IGNoYWluIHRoZW1zZWx2ZXMgaW5zdGVhZCBvZiBvdmVycmlkaW5nLFxuXHQgICB1c2UgY2hhaW5DYWxsYmFja3MuXG5cdCAgIEZvciB0aG9zZSBmYW1pbGlhciB3aXRoIENvZmZlZVNjcmlwdCwgdGhpcyBjb3JyZXNwb25kIHRvXG5cdCAgIEZlYXRoZXJsaWdodCBiZWluZyBhIGNsYXNzIGFuZCB0aGUgR2FsbGVyeSBiZWluZyBhIGNsYXNzXG5cdCAgIGV4dGVuZGluZyBGZWF0aGVybGlnaHQuXG5cdCAgIFRoZSBjaGFpbkNhbGxiYWNrcyBpcyB1c2VkIHNpbmNlIHdlIGRvbid0IGhhdmUgYWNjZXNzIHRvXG5cdCAgIENvZmZlZVNjcmlwdCdzIGBzdXBlcmAuXG5cdCovXG5cblx0ZnVuY3Rpb24gRmVhdGhlcmxpZ2h0KCRjb250ZW50LCBjb25maWcpIHtcblx0XHRpZih0aGlzIGluc3RhbmNlb2YgRmVhdGhlcmxpZ2h0KSB7ICAvKiBjYWxsZWQgd2l0aCBuZXcgKi9cblx0XHRcdHRoaXMuaWQgPSBGZWF0aGVybGlnaHQuaWQrKztcblx0XHRcdHRoaXMuc2V0dXAoJGNvbnRlbnQsIGNvbmZpZyk7XG5cdFx0XHR0aGlzLmNoYWluQ2FsbGJhY2tzKEZlYXRoZXJsaWdodC5fY2FsbGJhY2tDaGFpbik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBmbCA9IG5ldyBGZWF0aGVybGlnaHQoJGNvbnRlbnQsIGNvbmZpZyk7XG5cdFx0XHRmbC5vcGVuKCk7XG5cdFx0XHRyZXR1cm4gZmw7XG5cdFx0fVxuXHR9XG5cblx0dmFyIG9wZW5lZCA9IFtdLFxuXHRcdHBydW5lT3BlbmVkID0gZnVuY3Rpb24ocmVtb3ZlKSB7XG5cdFx0XHRvcGVuZWQgPSAkLmdyZXAob3BlbmVkLCBmdW5jdGlvbihmbCkge1xuXHRcdFx0XHRyZXR1cm4gZmwgIT09IHJlbW92ZSAmJiBmbC4kaW5zdGFuY2UuY2xvc2VzdCgnYm9keScpLmxlbmd0aCA+IDA7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gb3BlbmVkO1xuXHRcdH07XG5cblx0Ly8gUmVtb3ZlcyBrZXlzIG9mIGBzZXRgIGZyb20gYG9iamAgYW5kIHJldHVybnMgdGhlIHJlbW92ZWQga2V5L3ZhbHVlcy5cblx0ZnVuY3Rpb24gc2xpY2Uob2JqLCBzZXQpIHtcblx0XHR2YXIgciA9IHt9O1xuXHRcdGZvciAodmFyIGtleSBpbiBvYmopIHtcblx0XHRcdGlmIChrZXkgaW4gc2V0KSB7XG5cdFx0XHRcdHJba2V5XSA9IG9ialtrZXldO1xuXHRcdFx0XHRkZWxldGUgb2JqW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByO1xuXHR9XG5cblx0Ly8gTk9URTogTGlzdCBvZiBhdmFpbGFibGUgW2lmcmFtZSBhdHRyaWJ1dGVzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaWZyYW1lKS5cblx0dmFyIGlGcmFtZUF0dHJpYnV0ZVNldCA9IHtcblx0XHRhbGxvdzogMSwgYWxsb3dmdWxsc2NyZWVuOiAxLCBmcmFtZWJvcmRlcjogMSwgaGVpZ2h0OiAxLCBsb25nZGVzYzogMSwgbWFyZ2luaGVpZ2h0OiAxLCBtYXJnaW53aWR0aDogMSxcblx0XHRtb3phbGxvd2Z1bGxzY3JlZW46IDEsIG5hbWU6IDEsIHJlZmVycmVycG9saWN5OiAxLCBzYW5kYm94OiAxLCBzY3JvbGxpbmc6IDEsIHNyYzogMSwgc3JjZG9jOiAxLCBzdHlsZTogMSxcblx0XHR3ZWJraXRhbGxvd2Z1bGxzY3JlZW46IDEsIHdpZHRoOiAxXG5cdH07XG5cblx0Ly8gQ29udmVydHMgY2FtZWxDYXNlZCBhdHRyaWJ1dGVzIHRvIGRhc2hlcml6ZWQgdmVyc2lvbnMgZm9yIGdpdmVuIHByZWZpeDpcblx0Ly8gICBwYXJzZUF0dHJzKHtoZWxsbzogMSwgaGVsbEZyb3plT3ZlcjogMn0sICdoZWxsJykgPT4ge2Zyb3plLW92ZXI6IDJ9XG5cdGZ1bmN0aW9uIHBhcnNlQXR0cnMob2JqLCBwcmVmaXgpIHtcblx0XHR2YXIgYXR0cnMgPSB7fSxcblx0XHRcdHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyBwcmVmaXggKyAnKFtBLVpdKSguKiknKTtcblx0XHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0XHR2YXIgbWF0Y2ggPSBrZXkubWF0Y2gocmVnZXgpO1xuXHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdHZhciBkYXNoZXJpemVkID0gKG1hdGNoWzFdICsgbWF0Y2hbMl0ucmVwbGFjZSgvKFtBLVpdKS9nLCAnLSQxJykpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdGF0dHJzW2Rhc2hlcml6ZWRdID0gb2JqW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBhdHRycztcblx0fVxuXG5cdC8qIGRvY3VtZW50IHdpZGUga2V5IGhhbmRsZXIgKi9cblx0dmFyIGV2ZW50TWFwID0geyBrZXl1cDogJ29uS2V5VXAnLCByZXNpemU6ICdvblJlc2l6ZScgfTtcblxuXHR2YXIgZ2xvYmFsRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHQkLmVhY2goRmVhdGhlcmxpZ2h0Lm9wZW5lZCgpLnJldmVyc2UoKSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG5cdFx0XHRcdGlmIChmYWxzZSA9PT0gdGhpc1tldmVudE1hcFtldmVudC50eXBlXV0oZXZlbnQpKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTsgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IHJldHVybiBmYWxzZTtcblx0XHRcdCAgfVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9O1xuXG5cdHZhciB0b2dnbGVHbG9iYWxFdmVudHMgPSBmdW5jdGlvbihzZXQpIHtcblx0XHRcdGlmKHNldCAhPT0gRmVhdGhlcmxpZ2h0Ll9nbG9iYWxIYW5kbGVySW5zdGFsbGVkKSB7XG5cdFx0XHRcdEZlYXRoZXJsaWdodC5fZ2xvYmFsSGFuZGxlckluc3RhbGxlZCA9IHNldDtcblx0XHRcdFx0dmFyIGV2ZW50cyA9ICQubWFwKGV2ZW50TWFwLCBmdW5jdGlvbihfLCBuYW1lKSB7IHJldHVybiBuYW1lKycuJytGZWF0aGVybGlnaHQucHJvdG90eXBlLm5hbWVzcGFjZTsgfSApLmpvaW4oJyAnKTtcblx0XHRcdFx0JCh3aW5kb3cpW3NldCA/ICdvbicgOiAnb2ZmJ10oZXZlbnRzLCBnbG9iYWxFdmVudEhhbmRsZXIpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0RmVhdGhlcmxpZ2h0LnByb3RvdHlwZSA9IHtcblx0XHRjb25zdHJ1Y3RvcjogRmVhdGhlcmxpZ2h0LFxuXHRcdC8qKiogZGVmYXVsdHMgKioqL1xuXHRcdC8qIGV4dGVuZCBmZWF0aGVybGlnaHQgd2l0aCBkZWZhdWx0cyBhbmQgbWV0aG9kcyAqL1xuXHRcdG5hbWVzcGFjZTogICAgICAnZmVhdGhlcmxpZ2h0JywgICAgICAgIC8qIE5hbWUgb2YgdGhlIGV2ZW50cyBhbmQgY3NzIGNsYXNzIHByZWZpeCAqL1xuXHRcdHRhcmdldEF0dHI6ICAgICAnZGF0YS1mZWF0aGVybGlnaHQnLCAgIC8qIEF0dHJpYnV0ZSBvZiB0aGUgdHJpZ2dlcmVkIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgc2VsZWN0b3IgdG8gdGhlIGxpZ2h0Ym94IGNvbnRlbnQgKi9cblx0XHR2YXJpYW50OiAgICAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAvKiBDbGFzcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gY2hhbmdlIGxvb2sgb2YgdGhlIGxpZ2h0Ym94ICovXG5cdFx0cmVzZXRDc3M6ICAgICAgIGZhbHNlLCAgICAgICAgICAgICAgICAgLyogUmVzZXQgYWxsIGNzcyAqL1xuXHRcdGJhY2tncm91bmQ6ICAgICBudWxsLCAgICAgICAgICAgICAgICAgIC8qIEN1c3RvbSBET00gZm9yIHRoZSBiYWNrZ3JvdW5kLCB3cmFwcGVyIGFuZCB0aGUgY2xvc2VidXR0b24gKi9cblx0XHRvcGVuVHJpZ2dlcjogICAgJ2NsaWNrJywgICAgICAgICAgICAgICAvKiBFdmVudCB0aGF0IHRyaWdnZXJzIHRoZSBsaWdodGJveCAqL1xuXHRcdGNsb3NlVHJpZ2dlcjogICAnY2xpY2snLCAgICAgICAgICAgICAgIC8qIEV2ZW50IHRoYXQgdHJpZ2dlcnMgdGhlIGNsb3Npbmcgb2YgdGhlIGxpZ2h0Ym94ICovXG5cdFx0ZmlsdGVyOiAgICAgICAgIG51bGwsICAgICAgICAgICAgICAgICAgLyogU2VsZWN0b3IgdG8gZmlsdGVyIGV2ZW50cy4gVGhpbmsgJCguLi4pLm9uKCdjbGljaycsIGZpbHRlciwgZXZlbnRIYW5kbGVyKSAqL1xuXHRcdHJvb3Q6ICAgICAgICAgICAnYm9keScsICAgICAgICAgICAgICAgIC8qIFdoZXJlIHRvIGFwcGVuZCBmZWF0aGVybGlnaHRzICovXG5cdFx0b3BlblNwZWVkOiAgICAgIDI1MCwgICAgICAgICAgICAgICAgICAgLyogRHVyYXRpb24gb2Ygb3BlbmluZyBhbmltYXRpb24gKi9cblx0XHRjbG9zZVNwZWVkOiAgICAgMjUwLCAgICAgICAgICAgICAgICAgICAvKiBEdXJhdGlvbiBvZiBjbG9zaW5nIGFuaW1hdGlvbiAqL1xuXHRcdGNsb3NlT25DbGljazogICAnYmFja2dyb3VuZCcsICAgICAgICAgIC8qIENsb3NlIGxpZ2h0Ym94IG9uIGNsaWNrICgnYmFja2dyb3VuZCcsICdhbnl3aGVyZScgb3IgZmFsc2UpICovXG5cdFx0Y2xvc2VPbkVzYzogICAgIHRydWUsICAgICAgICAgICAgICAgICAgLyogQ2xvc2UgbGlnaHRib3ggd2hlbiBwcmVzc2luZyBlc2MgKi9cblx0XHRjbG9zZUljb246ICAgICAgJyYjMTAwMDU7JywgICAgICAgICAgICAvKiBDbG9zZSBpY29uICovXG5cdFx0bG9hZGluZzogICAgICAgICcnLCAgICAgICAgICAgICAgICAgICAgLyogQ29udGVudCB0byBzaG93IHdoaWxlIGluaXRpYWwgY29udGVudCBpcyBsb2FkaW5nICovXG5cdFx0cGVyc2lzdDogICAgICAgIGZhbHNlLCAgICAgICAgICAgICAgICAgLyogSWYgc2V0LCB0aGUgY29udGVudCB3aWxsIHBlcnNpc3QgYW5kIHdpbGwgYmUgc2hvd24gYWdhaW4gd2hlbiBvcGVuZWQgYWdhaW4uICdzaGFyZWQnIGlzIGEgc3BlY2lhbCB2YWx1ZSB3aGVuIGJpbmRpbmcgbXVsdGlwbGUgZWxlbWVudHMgZm9yIHRoZW0gdG8gc2hhcmUgdGhlIHNhbWUgY29udGVudCAqL1xuXHRcdG90aGVyQ2xvc2U6ICAgICBudWxsLCAgICAgICAgICAgICAgICAgIC8qIFNlbGVjdG9yIGZvciBhbHRlcm5hdGUgY2xvc2UgYnV0dG9ucyAoZS5nLiBcImEuY2xvc2VcIikgKi9cblx0XHRiZWZvcmVPcGVuOiAgICAgJC5ub29wLCAgICAgICAgICAgICAgICAvKiBDYWxsZWQgYmVmb3JlIG9wZW4uIGNhbiByZXR1cm4gZmFsc2UgdG8gcHJldmVudCBvcGVuaW5nIG9mIGxpZ2h0Ym94LiBHZXRzIGV2ZW50IGFzIHBhcmFtZXRlciwgdGhpcyBjb250YWlucyBhbGwgZGF0YSAqL1xuXHRcdGJlZm9yZUNvbnRlbnQ6ICAkLm5vb3AsICAgICAgICAgICAgICAgIC8qIENhbGxlZCB3aGVuIGNvbnRlbnQgaXMgbG9hZGVkLiBHZXRzIGV2ZW50IGFzIHBhcmFtZXRlciwgdGhpcyBjb250YWlucyBhbGwgZGF0YSAqL1xuXHRcdGJlZm9yZUNsb3NlOiAgICAkLm5vb3AsICAgICAgICAgICAgICAgIC8qIENhbGxlZCBiZWZvcmUgY2xvc2UuIGNhbiByZXR1cm4gZmFsc2UgdG8gcHJldmVudCBvcGVuaW5nIG9mIGxpZ2h0Ym94LiBHZXRzIGV2ZW50IGFzIHBhcmFtZXRlciwgdGhpcyBjb250YWlucyBhbGwgZGF0YSAqL1xuXHRcdGFmdGVyT3BlbjogICAgICAkLm5vb3AsICAgICAgICAgICAgICAgIC8qIENhbGxlZCBhZnRlciBvcGVuLiBHZXRzIGV2ZW50IGFzIHBhcmFtZXRlciwgdGhpcyBjb250YWlucyBhbGwgZGF0YSAqL1xuXHRcdGFmdGVyQ29udGVudDogICAkLm5vb3AsICAgICAgICAgICAgICAgIC8qIENhbGxlZCBhZnRlciBjb250ZW50IGlzIHJlYWR5IGFuZCBoYXMgYmVlbiBzZXQuIEdldHMgZXZlbnQgYXMgcGFyYW1ldGVyLCB0aGlzIGNvbnRhaW5zIGFsbCBkYXRhICovXG5cdFx0YWZ0ZXJDbG9zZTogICAgICQubm9vcCwgICAgICAgICAgICAgICAgLyogQ2FsbGVkIGFmdGVyIGNsb3NlLiBHZXRzIGV2ZW50IGFzIHBhcmFtZXRlciwgdGhpcyBjb250YWlucyBhbGwgZGF0YSAqL1xuXHRcdG9uS2V5VXA6ICAgICAgICAkLm5vb3AsICAgICAgICAgICAgICAgIC8qIENhbGxlZCBvbiBrZXkgdXAgZm9yIHRoZSBmcm9udG1vc3QgZmVhdGhlcmxpZ2h0ICovXG5cdFx0b25SZXNpemU6ICAgICAgICQubm9vcCwgICAgICAgICAgICAgICAgLyogQ2FsbGVkIGFmdGVyIG5ldyBjb250ZW50IGFuZCB3aGVuIGEgd2luZG93IGlzIHJlc2l6ZWQgKi9cblx0XHR0eXBlOiAgICAgICAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAvKiBTcGVjaWZ5IHR5cGUgb2YgbGlnaHRib3guIElmIHVuc2V0LCBpdCB3aWxsIGNoZWNrIGZvciB0aGUgdGFyZ2V0QXR0cnMgdmFsdWUuICovXG5cdFx0Y29udGVudEZpbHRlcnM6IFsnanF1ZXJ5JywgJ2ltYWdlJywgJ2h0bWwnLCAnYWpheCcsICdpZnJhbWUnLCAndGV4dCddLCAvKiBMaXN0IG9mIGNvbnRlbnQgZmlsdGVycyB0byB1c2UgdG8gZGV0ZXJtaW5lIHRoZSBjb250ZW50ICovXG5cblx0XHQvKioqIG1ldGhvZHMgKioqL1xuXHRcdC8qIHNldHVwIGl0ZXJhdGVzIG92ZXIgYSBzaW5nbGUgaW5zdGFuY2Ugb2YgZmVhdGhlcmxpZ2h0IGFuZCBwcmVwYXJlcyB0aGUgYmFja2dyb3VuZCBhbmQgYmluZHMgdGhlIGV2ZW50cyAqL1xuXHRcdHNldHVwOiBmdW5jdGlvbih0YXJnZXQsIGNvbmZpZyl7XG5cdFx0XHQvKiBhbGwgYXJndW1lbnRzIGFyZSBvcHRpb25hbCAqL1xuXHRcdFx0aWYgKHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmIHRhcmdldCBpbnN0YW5jZW9mICQgPT09IGZhbHNlICYmICFjb25maWcpIHtcblx0XHRcdFx0Y29uZmlnID0gdGFyZ2V0O1xuXHRcdFx0XHR0YXJnZXQgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzZWxmID0gJC5leHRlbmQodGhpcywgY29uZmlnLCB7dGFyZ2V0OiB0YXJnZXR9KSxcblx0XHRcdFx0Y3NzID0gIXNlbGYucmVzZXRDc3MgPyBzZWxmLm5hbWVzcGFjZSA6IHNlbGYubmFtZXNwYWNlKyctcmVzZXQnLCAvKiBieSBhZGRpbmcgLXJlc2V0IHRvIHRoZSBjbGFzc25hbWUsIHdlIHJlc2V0IGFsbCB0aGUgZGVmYXVsdCBjc3MgKi9cblx0XHRcdFx0JGJhY2tncm91bmQgPSAkKHNlbGYuYmFja2dyb3VuZCB8fCBbXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInK2NzcysnLWxvYWRpbmcgJytjc3MrJ1wiPicsXG5cdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIicrY3NzKyctY29udGVudFwiPicsXG5cdFx0XHRcdFx0XHRcdCc8YnV0dG9uIGNsYXNzPVwiJytjc3MrJy1jbG9zZS1pY29uICcrIHNlbGYubmFtZXNwYWNlICsgJy1jbG9zZVwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPicsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5jbG9zZUljb24sXG5cdFx0XHRcdFx0XHRcdCc8L2J1dHRvbj4nLFxuXHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIicrc2VsZi5uYW1lc3BhY2UrJy1pbm5lclwiPicgKyBzZWxmLmxvYWRpbmcgKyAnPC9kaXY+Jyxcblx0XHRcdFx0XHRcdCc8L2Rpdj4nLFxuXHRcdFx0XHRcdCc8L2Rpdj4nXS5qb2luKCcnKSksXG5cdFx0XHRcdGNsb3NlQnV0dG9uU2VsZWN0b3IgPSAnLicrc2VsZi5uYW1lc3BhY2UrJy1jbG9zZScgKyAoc2VsZi5vdGhlckNsb3NlID8gJywnICsgc2VsZi5vdGhlckNsb3NlIDogJycpO1xuXG5cdFx0XHRzZWxmLiRpbnN0YW5jZSA9ICRiYWNrZ3JvdW5kLmNsb25lKCkuYWRkQ2xhc3Moc2VsZi52YXJpYW50KTsgLyogY2xvbmUgRE9NIGZvciB0aGUgYmFja2dyb3VuZCwgd3JhcHBlciBhbmQgdGhlIGNsb3NlIGJ1dHRvbiAqL1xuXG5cdFx0XHQvKiBjbG9zZSB3aGVuIGNsaWNrIG9uIGJhY2tncm91bmQvYW55d2hlcmUvbnVsbCBvciBjbG9zZWJveCAqL1xuXHRcdFx0c2VsZi4kaW5zdGFuY2Uub24oc2VsZi5jbG9zZVRyaWdnZXIrJy4nK3NlbGYubmFtZXNwYWNlLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRpZihldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcblx0XHRcdFx0aWYoICgnYmFja2dyb3VuZCcgPT09IHNlbGYuY2xvc2VPbkNsaWNrICAmJiAkdGFyZ2V0LmlzKCcuJytzZWxmLm5hbWVzcGFjZSkpXG5cdFx0XHRcdFx0fHwgJ2FueXdoZXJlJyA9PT0gc2VsZi5jbG9zZU9uQ2xpY2tcblx0XHRcdFx0XHR8fCAkdGFyZ2V0LmNsb3Nlc3QoY2xvc2VCdXR0b25TZWxlY3RvcikubGVuZ3RoICl7XG5cdFx0XHRcdFx0c2VsZi5jbG9zZShldmVudCk7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cblx0XHQvKiB0aGlzIG1ldGhvZCBwcmVwYXJlcyB0aGUgY29udGVudCBhbmQgY29udmVydHMgaXQgaW50byBhIGpRdWVyeSBvYmplY3Qgb3IgYSBwcm9taXNlICovXG5cdFx0Z2V0Q29udGVudDogZnVuY3Rpb24oKXtcblx0XHRcdGlmKHRoaXMucGVyc2lzdCAhPT0gZmFsc2UgJiYgdGhpcy4kY29udGVudCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kY29udGVudDtcblx0XHRcdH1cblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0ZmlsdGVycyA9IHRoaXMuY29uc3RydWN0b3IuY29udGVudEZpbHRlcnMsXG5cdFx0XHRcdHJlYWRUYXJnZXRBdHRyID0gZnVuY3Rpb24obmFtZSl7IHJldHVybiBzZWxmLiRjdXJyZW50VGFyZ2V0ICYmIHNlbGYuJGN1cnJlbnRUYXJnZXQuYXR0cihuYW1lKTsgfSxcblx0XHRcdFx0dGFyZ2V0VmFsdWUgPSByZWFkVGFyZ2V0QXR0cihzZWxmLnRhcmdldEF0dHIpLFxuXHRcdFx0XHRkYXRhID0gc2VsZi50YXJnZXQgfHwgdGFyZ2V0VmFsdWUgfHwgJyc7XG5cblx0XHRcdC8qIEZpbmQgd2hpY2ggZmlsdGVyIGFwcGxpZXMgKi9cblx0XHRcdHZhciBmaWx0ZXIgPSBmaWx0ZXJzW3NlbGYudHlwZV07IC8qIGNoZWNrIGV4cGxpY2l0IHR5cGUgbGlrZSB7dHlwZTogJ2ltYWdlJ30gKi9cblxuXHRcdFx0LyogY2hlY2sgZXhwbGljaXQgdHlwZSBsaWtlIGRhdGEtZmVhdGhlcmxpZ2h0PVwiaW1hZ2VcIiAqL1xuXHRcdFx0aWYoIWZpbHRlciAmJiBkYXRhIGluIGZpbHRlcnMpIHtcblx0XHRcdFx0ZmlsdGVyID0gZmlsdGVyc1tkYXRhXTtcblx0XHRcdFx0ZGF0YSA9IHNlbGYudGFyZ2V0ICYmIHRhcmdldFZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0ZGF0YSA9IGRhdGEgfHwgcmVhZFRhcmdldEF0dHIoJ2hyZWYnKSB8fCAnJztcblxuXHRcdFx0LyogY2hlY2sgZXhwbGljaXR5IHR5cGUgJiBjb250ZW50IGxpa2Uge2ltYWdlOiAncGhvdG8uanBnJ30gKi9cblx0XHRcdGlmKCFmaWx0ZXIpIHtcblx0XHRcdFx0Zm9yKHZhciBmaWx0ZXJOYW1lIGluIGZpbHRlcnMpIHtcblx0XHRcdFx0XHRpZihzZWxmW2ZpbHRlck5hbWVdKSB7XG5cdFx0XHRcdFx0XHRmaWx0ZXIgPSBmaWx0ZXJzW2ZpbHRlck5hbWVdO1xuXHRcdFx0XHRcdFx0ZGF0YSA9IHNlbGZbZmlsdGVyTmFtZV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8qIG90aGVyd2lzZSBpdCdzIGltcGxpY2l0LCBydW4gY2hlY2tzICovXG5cdFx0XHRpZighZmlsdGVyKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBkYXRhO1xuXHRcdFx0XHRkYXRhID0gbnVsbDtcblx0XHRcdFx0JC5lYWNoKHNlbGYuY29udGVudEZpbHRlcnMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGZpbHRlciA9IGZpbHRlcnNbdGhpc107XG5cdFx0XHRcdFx0aWYoZmlsdGVyLnRlc3QpICB7XG5cdFx0XHRcdFx0XHRkYXRhID0gZmlsdGVyLnRlc3QodGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYoIWRhdGEgJiYgZmlsdGVyLnJlZ2V4ICYmIHRhcmdldC5tYXRjaCAmJiB0YXJnZXQubWF0Y2goZmlsdGVyLnJlZ2V4KSkge1xuXHRcdFx0XHRcdFx0ZGF0YSA9IHRhcmdldDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuICFkYXRhO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYoIWRhdGEpIHtcblx0XHRcdFx0XHRpZignY29uc29sZScgaW4gd2luZG93KXsgd2luZG93LmNvbnNvbGUuZXJyb3IoJ0ZlYXRoZXJsaWdodDogbm8gY29udGVudCBmaWx0ZXIgZm91bmQgJyArICh0YXJnZXQgPyAnIGZvciBcIicgKyB0YXJnZXQgKyAnXCInIDogJyAobm8gdGFyZ2V0IHNwZWNpZmllZCknKSk7IH1cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8qIFByb2Nlc3MgaXQgKi9cblx0XHRcdHJldHVybiBmaWx0ZXIucHJvY2Vzcy5jYWxsKHNlbGYsIGRhdGEpO1xuXHRcdH0sXG5cblx0XHQvKiBzZXRzIHRoZSBjb250ZW50IG9mICRpbnN0YW5jZSB0byAkY29udGVudCAqL1xuXHRcdHNldENvbnRlbnQ6IGZ1bmN0aW9uKCRjb250ZW50KXtcbiAgICAgIHRoaXMuJGluc3RhbmNlLnJlbW92ZUNsYXNzKHRoaXMubmFtZXNwYWNlKyctbG9hZGluZycpO1xuXG4gICAgICAvKiB3ZSBuZWVkIGEgc3BlY2lhbCBjbGFzcyBmb3IgdGhlIGlmcmFtZSAqL1xuICAgICAgdGhpcy4kaW5zdGFuY2UudG9nZ2xlQ2xhc3ModGhpcy5uYW1lc3BhY2UrJy1pZnJhbWUnLCAkY29udGVudC5pcygnaWZyYW1lJykpO1xuXG4gICAgICAvKiByZXBsYWNlIGNvbnRlbnQgYnkgYXBwZW5kaW5nIHRvIGV4aXN0aW5nIG9uZSBiZWZvcmUgaXQgaXMgcmVtb3ZlZFxuICAgICAgICAgdGhpcyBpbnN1cmVzIHRoYXQgZmVhdGhlcmxpZ2h0LWlubmVyIHJlbWFpbiBhdCB0aGUgc2FtZSByZWxhdGl2ZVxuICAgICAgICAgcG9zaXRpb24gdG8gYW55IG90aGVyIGl0ZW1zIGFkZGVkIHRvIGZlYXRoZXJsaWdodC1jb250ZW50ICovXG4gICAgICB0aGlzLiRpbnN0YW5jZS5maW5kKCcuJyt0aGlzLm5hbWVzcGFjZSsnLWlubmVyJylcbiAgICAgICAgLm5vdCgkY29udGVudCkgICAgICAgICAgICAgICAgLyogZXhjbHVkZWQgbmV3IGNvbnRlbnQsIGltcG9ydGFudCBpZiBwZXJzaXN0ZWQgKi9cbiAgICAgICAgLnNsaWNlKDEpLnJlbW92ZSgpLmVuZCgpICAgICAgLyogSW4gdGhlIHVuZXhwZWN0ZWQgZXZlbnQgd2hlcmUgdGhlcmUgYXJlIG1hbnkgaW5uZXIgZWxlbWVudHMsIHJlbW92ZSBhbGwgYnV0IHRoZSBmaXJzdCBvbmUgKi9cbiAgICAgICAgLnJlcGxhY2VXaXRoKCQuY29udGFpbnModGhpcy4kaW5zdGFuY2VbMF0sICRjb250ZW50WzBdKSA/ICcnIDogJGNvbnRlbnQpO1xuXG4gICAgICB0aGlzLiRjb250ZW50ID0gJGNvbnRlbnQuYWRkQ2xhc3ModGhpcy5uYW1lc3BhY2UrJy1pbm5lcicpO1xuXG4gICAgICByZXR1cm4gdGhpcztcblx0XHR9LFxuXG5cdFx0Lyogb3BlbnMgdGhlIGxpZ2h0Ym94LiBcInRoaXNcIiBjb250YWlucyAkaW5zdGFuY2Ugd2l0aCB0aGUgbGlnaHRib3gsIGFuZCB3aXRoIHRoZSBjb25maWcuXG5cdFx0XHRSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIGFmdGVyIGlzIHN1Y2Nlc3NmdWxseSBvcGVuZWQuICovXG5cdFx0b3BlbjogZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0c2VsZi4kaW5zdGFuY2UuaGlkZSgpLmFwcGVuZFRvKHNlbGYucm9vdCk7XG5cdFx0XHRpZigoIWV2ZW50IHx8ICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlcblx0XHRcdFx0JiYgc2VsZi5iZWZvcmVPcGVuKGV2ZW50KSAhPT0gZmFsc2UpIHtcblxuXHRcdFx0XHRpZihldmVudCl7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgJGNvbnRlbnQgPSBzZWxmLmdldENvbnRlbnQoKTtcblxuXHRcdFx0XHRpZigkY29udGVudCkge1xuXHRcdFx0XHRcdG9wZW5lZC5wdXNoKHNlbGYpO1xuXG5cdFx0XHRcdFx0dG9nZ2xlR2xvYmFsRXZlbnRzKHRydWUpO1xuXG5cdFx0XHRcdFx0c2VsZi4kaW5zdGFuY2UuZmFkZUluKHNlbGYub3BlblNwZWVkKTtcblx0XHRcdFx0XHRzZWxmLmJlZm9yZUNvbnRlbnQoZXZlbnQpO1xuXG5cdFx0XHRcdFx0LyogU2V0IGNvbnRlbnQgYW5kIHNob3cgKi9cblx0XHRcdFx0XHRyZXR1cm4gJC53aGVuKCRjb250ZW50KVxuXHRcdFx0XHRcdFx0LmFsd2F5cyhmdW5jdGlvbigkY29udGVudCl7XG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0Q29udGVudCgkY29udGVudCk7XG5cdFx0XHRcdFx0XHRcdHNlbGYuYWZ0ZXJDb250ZW50KGV2ZW50KTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQudGhlbihzZWxmLiRpbnN0YW5jZS5wcm9taXNlKCkpXG5cdFx0XHRcdFx0XHQvKiBDYWxsIGFmdGVyT3BlbiBhZnRlciBmYWRlSW4gaXMgZG9uZSAqL1xuXHRcdFx0XHRcdFx0LmRvbmUoZnVuY3Rpb24oKXsgc2VsZi5hZnRlck9wZW4oZXZlbnQpOyB9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0c2VsZi4kaW5zdGFuY2UuZGV0YWNoKCk7XG5cdFx0XHRyZXR1cm4gJC5EZWZlcnJlZCgpLnJlamVjdCgpLnByb21pc2UoKTtcblx0XHR9LFxuXG5cdFx0LyogY2xvc2VzIHRoZSBsaWdodGJveC4gXCJ0aGlzXCIgY29udGFpbnMgJGluc3RhbmNlIHdpdGggdGhlIGxpZ2h0Ym94LCBhbmQgd2l0aCB0aGUgY29uZmlnXG5cdFx0XHRyZXR1cm5zIGEgcHJvbWlzZSwgcmVzb2x2ZWQgYWZ0ZXIgdGhlIGxpZ2h0Ym94IGlzIHN1Y2Nlc3NmdWxseSBjbG9zZWQuICovXG5cdFx0Y2xvc2U6IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0ZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRcdGlmKHNlbGYuYmVmb3JlQ2xvc2UoZXZlbnQpID09PSBmYWxzZSkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoKTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKDAgPT09IHBydW5lT3BlbmVkKHNlbGYpLmxlbmd0aCkge1xuXHRcdFx0XHRcdHRvZ2dsZUdsb2JhbEV2ZW50cyhmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZWxmLiRpbnN0YW5jZS5mYWRlT3V0KHNlbGYuY2xvc2VTcGVlZCxmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHNlbGYuJGluc3RhbmNlLmRldGFjaCgpO1xuXHRcdFx0XHRcdHNlbGYuYWZ0ZXJDbG9zZShldmVudCk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG5cdFx0fSxcblxuXHRcdC8qIHJlc2l6ZXMgdGhlIGNvbnRlbnQgc28gaXQgZml0cyBpbiB2aXNpYmxlIGFyZWEgYW5kIGtlZXBzIHRoZSBzYW1lIGFzcGVjdCByYXRpby5cblx0XHRcdFx0RG9lcyBub3RoaW5nIGlmIGVpdGhlciB0aGUgd2lkdGggb3IgdGhlIGhlaWdodCBpcyBub3Qgc3BlY2lmaWVkLlxuXHRcdFx0XHRDYWxsZWQgYXV0b21hdGljYWxseSBvbiB3aW5kb3cgcmVzaXplLlxuXHRcdFx0XHRPdmVycmlkZSBpZiB5b3Ugd2FudCBkaWZmZXJlbnQgYmVoYXZpb3IuICovXG5cdFx0cmVzaXplOiBmdW5jdGlvbih3LCBoKSB7XG5cdFx0XHRpZiAodyAmJiBoKSB7XG5cdFx0XHRcdC8qIFJlc2V0IGFwcGFyZW50IGltYWdlIHNpemUgZmlyc3Qgc28gY29udGFpbmVyIGdyb3dzICovXG5cdFx0XHRcdHRoaXMuJGNvbnRlbnQuY3NzKCd3aWR0aCcsICcnKS5jc3MoJ2hlaWdodCcsICcnKTtcblx0XHRcdFx0LyogQ2FsY3VsYXRlIHRoZSB3b3JzdCByYXRpbyBzbyB0aGF0IGRpbWVuc2lvbnMgZml0ICovXG5cdFx0XHRcdCAvKiBOb3RlOiAtMSB0byBhdm9pZCByb3VuZGluZyBlcnJvcnMgKi9cblx0XHRcdFx0dmFyIHJhdGlvID0gTWF0aC5tYXgoXG5cdFx0XHRcdFx0dyAgLyAodGhpcy4kY29udGVudC5wYXJlbnQoKS53aWR0aCgpLTEpLFxuXHRcdFx0XHRcdGggLyAodGhpcy4kY29udGVudC5wYXJlbnQoKS5oZWlnaHQoKS0xKSk7XG5cdFx0XHRcdC8qIFJlc2l6ZSBjb250ZW50ICovXG5cdFx0XHRcdGlmIChyYXRpbyA+IDEpIHtcblx0XHRcdFx0XHRyYXRpbyA9IGggLyBNYXRoLmZsb29yKGggLyByYXRpbyk7IC8qIFJvdW5kIHJhdGlvIGRvd24gc28gaGVpZ2h0IGNhbGMgd29ya3MgKi9cblx0XHRcdFx0XHR0aGlzLiRjb250ZW50LmNzcygnd2lkdGgnLCAnJyArIHcgLyByYXRpbyArICdweCcpLmNzcygnaGVpZ2h0JywgJycgKyBoIC8gcmF0aW8gKyAncHgnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNoYWluIGNhbGxiYWNrc1xuXHRcdCAgIFtXYXJuaW5nOiBndXJ1LWxldmVsXVxuXHRcdCAgIFVzZWQgYmUgZXh0ZW5zaW9ucyB0aGF0IHdhbnQgdG8gbGV0IHVzZXJzIHNwZWNpZnkgY2FsbGJhY2tzIGJ1dFxuXHRcdCAgIGFsc28gbmVlZCB0aGVtc2VsdmVzIHRvIHVzZSB0aGUgY2FsbGJhY2tzLlxuXHRcdCAgIFRoZSBhcmd1bWVudCAnY2hhaW4nIGhhcyBjYWxsYmFjayBuYW1lcyBhcyBrZXlzIGFuZCBmdW5jdGlvbihzdXBlciwgZXZlbnQpXG5cdFx0ICAgYXMgdmFsdWVzLiBUaGF0IGZ1bmN0aW9uIGlzIG1lYW50IHRvIGNhbGwgYHN1cGVyYCBhdCBzb21lIHBvaW50LlxuXHRcdCovXG5cdFx0Y2hhaW5DYWxsYmFja3M6IGZ1bmN0aW9uKGNoYWluKSB7XG5cdFx0XHRmb3IgKHZhciBuYW1lIGluIGNoYWluKSB7XG5cdFx0XHRcdHRoaXNbbmFtZV0gPSAkLnByb3h5KGNoYWluW25hbWVdLCB0aGlzLCAkLnByb3h5KHRoaXNbbmFtZV0sIHRoaXMpKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0JC5leHRlbmQoRmVhdGhlcmxpZ2h0LCB7XG5cdFx0aWQ6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVXNlZCB0byBpZCBzaW5nbGUgZmVhdGhlcmxpZ2h0IGluc3RhbmNlcyAqL1xuXHRcdGF1dG9CaW5kOiAgICAgICAnW2RhdGEtZmVhdGhlcmxpZ2h0XScsICAgIC8qIFdpbGwgYXV0b21hdGljYWxseSBiaW5kIGVsZW1lbnRzIG1hdGNoaW5nIHRoaXMgc2VsZWN0b3IuIENsZWFyIG9yIHNldCBiZWZvcmUgb25SZWFkeSAqL1xuXHRcdGRlZmF1bHRzOiAgICAgICBGZWF0aGVybGlnaHQucHJvdG90eXBlLCAgIC8qIFlvdSBjYW4gYWNjZXNzIGFuZCBvdmVycmlkZSBhbGwgZGVmYXVsdHMgdXNpbmcgJC5mZWF0aGVybGlnaHQuZGVmYXVsdHMsIHdoaWNoIGlzIGp1c3QgYSBzeW5vbnltIGZvciAkLmZlYXRoZXJsaWdodC5wcm90b3R5cGUgKi9cblx0XHQvKiBDb250YWlucyB0aGUgbG9naWMgdG8gZGV0ZXJtaW5lIGNvbnRlbnQgKi9cblx0XHRjb250ZW50RmlsdGVyczoge1xuXHRcdFx0anF1ZXJ5OiB7XG5cdFx0XHRcdHJlZ2V4OiAvXlsjLl1cXHcvLCAgICAgICAgIC8qIEFueXRoaW5nIHRoYXQgc3RhcnRzIHdpdGggYSBjbGFzcyBuYW1lIG9yIGlkZW50aWZpZXJzICovXG5cdFx0XHRcdHRlc3Q6IGZ1bmN0aW9uKGVsZW0pICAgIHsgcmV0dXJuIGVsZW0gaW5zdGFuY2VvZiAkICYmIGVsZW07IH0sXG5cdFx0XHRcdHByb2Nlc3M6IGZ1bmN0aW9uKGVsZW0pIHsgcmV0dXJuIHRoaXMucGVyc2lzdCAhPT0gZmFsc2UgPyAkKGVsZW0pIDogJChlbGVtKS5jbG9uZSh0cnVlKTsgfVxuXHRcdFx0fSxcblx0XHRcdGltYWdlOiB7XG5cdFx0XHRcdHJlZ2V4OiAvXFwuKHBuZ3xqcGd8anBlZ3xnaWZ8dGlmZj98Ym1wfHN2ZykoXFw/XFxTKik/JC9pLFxuXHRcdFx0XHRwcm9jZXNzOiBmdW5jdGlvbih1cmwpICB7XG5cdFx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRcdFx0ZGVmZXJyZWQgPSAkLkRlZmVycmVkKCksXG5cdFx0XHRcdFx0XHRpbWcgPSBuZXcgSW1hZ2UoKSxcblx0XHRcdFx0XHRcdCRpbWcgPSAkKCc8aW1nIHNyYz1cIicrdXJsKydcIiBhbHQ9XCJcIiBjbGFzcz1cIicrc2VsZi5uYW1lc3BhY2UrJy1pbWFnZVwiIC8+Jyk7XG5cdFx0XHRcdFx0aW1nLm9ubG9hZCAgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8qIFN0b3JlIG5hdHVyYWxXaWR0aCAmIGhlaWdodCBmb3IgSUU4ICovXG5cdFx0XHRcdFx0XHQkaW1nLm5hdHVyYWxXaWR0aCA9IGltZy53aWR0aDsgJGltZy5uYXR1cmFsSGVpZ2h0ID0gaW1nLmhlaWdodDtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoICRpbWcgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdCgkaW1nKTsgfTtcblx0XHRcdFx0XHRpbWcuc3JjID0gdXJsO1xuXHRcdFx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRodG1sOiB7XG5cdFx0XHRcdHJlZ2V4OiAvXlxccyo8W1xcdyFdW148XSo+LywgLyogQW55dGhpbmcgdGhhdCBzdGFydHMgd2l0aCBzb21lIGtpbmQgb2YgdmFsaWQgdGFnICovXG5cdFx0XHRcdHByb2Nlc3M6IGZ1bmN0aW9uKGh0bWwpIHsgcmV0dXJuICQoaHRtbCk7IH1cblx0XHRcdH0sXG5cdFx0XHRhamF4OiB7XG5cdFx0XHRcdHJlZ2V4OiAvLi8sICAgICAgICAgICAgLyogQXQgdGhpcyBwb2ludCwgYW55IGNvbnRlbnQgaXMgYXNzdW1lZCB0byBiZSBhbiBVUkwgKi9cblx0XHRcdFx0cHJvY2VzczogZnVuY3Rpb24odXJsKSAge1xuXHRcdFx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0XHRcdGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuXHRcdFx0XHRcdC8qIHdlIGFyZSB1c2luZyBsb2FkIHNvIG9uZSBjYW4gc3BlY2lmeSBhIHRhcmdldCB3aXRoOiB1cmwuaHRtbCAjdGFyZ2V0ZWxlbWVudCAqL1xuXHRcdFx0XHRcdHZhciAkY29udGFpbmVyID0gJCgnPGRpdj48L2Rpdj4nKS5sb2FkKHVybCwgZnVuY3Rpb24ocmVzcG9uc2UsIHN0YXR1cyl7XG5cdFx0XHRcdFx0XHRpZiAoIHN0YXR1cyAhPT0gXCJlcnJvclwiICkge1xuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKCRjb250YWluZXIuY29udGVudHMoKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5mYWlsKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGlmcmFtZToge1xuXHRcdFx0XHRwcm9jZXNzOiBmdW5jdGlvbih1cmwpIHtcblx0XHRcdFx0XHR2YXIgZGVmZXJyZWQgPSBuZXcgJC5EZWZlcnJlZCgpO1xuXHRcdFx0XHRcdHZhciAkY29udGVudCA9ICQoJzxpZnJhbWUvPicpO1xuXHRcdFx0XHRcdHZhciBjc3MgPSBwYXJzZUF0dHJzKHRoaXMsICdpZnJhbWUnKTtcblx0XHRcdFx0XHR2YXIgYXR0cnMgPSBzbGljZShjc3MsIGlGcmFtZUF0dHJpYnV0ZVNldCk7XG5cdFx0XHRcdFx0JGNvbnRlbnQuaGlkZSgpXG5cdFx0XHRcdFx0XHQuYXR0cignc3JjJywgdXJsKVxuXHRcdFx0XHRcdFx0LmF0dHIoYXR0cnMpXG5cdFx0XHRcdFx0XHQuY3NzKGNzcylcblx0XHRcdFx0XHRcdC5vbignbG9hZCcsIGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlKCRjb250ZW50LnNob3coKSk7IH0pXG5cdFx0XHRcdFx0XHQvLyBXZSBjYW4ndCBtb3ZlIGFuIDxpZnJhbWU+IGFuZCBhdm9pZCByZWxvYWRpbmcgaXQsXG5cdFx0XHRcdFx0XHQvLyBzbyBsZXQncyBwdXQgaXQgaW4gcGxhY2Ugb3Vyc2VsdmVzIHJpZ2h0IG5vdzpcblx0XHRcdFx0XHRcdC5hcHBlbmRUbyh0aGlzLiRpbnN0YW5jZS5maW5kKCcuJyArIHRoaXMubmFtZXNwYWNlICsgJy1jb250ZW50JykpO1xuXHRcdFx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR0ZXh0OiB7XG5cdFx0XHRcdHByb2Nlc3M6IGZ1bmN0aW9uKHRleHQpIHsgcmV0dXJuICQoJzxkaXY+Jywge3RleHQ6IHRleHR9KTsgfVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRmdW5jdGlvbkF0dHJpYnV0ZXM6IFsnYmVmb3JlT3BlbicsICdhZnRlck9wZW4nLCAnYmVmb3JlQ29udGVudCcsICdhZnRlckNvbnRlbnQnLCAnYmVmb3JlQ2xvc2UnLCAnYWZ0ZXJDbG9zZSddLFxuXG5cdFx0LyoqKiBjbGFzcyBtZXRob2RzICoqKi9cblx0XHQvKiByZWFkIGVsZW1lbnQncyBhdHRyaWJ1dGVzIHN0YXJ0aW5nIHdpdGggZGF0YS1mZWF0aGVybGlnaHQtICovXG5cdFx0cmVhZEVsZW1lbnRDb25maWc6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWVzcGFjZSkge1xuXHRcdFx0dmFyIEtsYXNzID0gdGhpcyxcblx0XHRcdFx0cmVnZXhwID0gbmV3IFJlZ0V4cCgnXmRhdGEtJyArIG5hbWVzcGFjZSArICctKC4qKScpLFxuXHRcdFx0XHRjb25maWcgPSB7fTtcblx0XHRcdGlmIChlbGVtZW50ICYmIGVsZW1lbnQuYXR0cmlidXRlcykge1xuXHRcdFx0XHQkLmVhY2goZWxlbWVudC5hdHRyaWJ1dGVzLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHZhciBtYXRjaCA9IHRoaXMubmFtZS5tYXRjaChyZWdleHApO1xuXHRcdFx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRcdFx0dmFyIHZhbCA9IHRoaXMudmFsdWUsXG5cdFx0XHRcdFx0XHRcdG5hbWUgPSAkLmNhbWVsQ2FzZShtYXRjaFsxXSk7XG5cdFx0XHRcdFx0XHRpZiAoJC5pbkFycmF5KG5hbWUsIEtsYXNzLmZ1bmN0aW9uQXR0cmlidXRlcykgPj0gMCkgeyAgLyoganNoaW50IC1XMDU0ICovXG5cdFx0XHRcdFx0XHRcdHZhbCA9IG5ldyBGdW5jdGlvbih2YWwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGpzaGludCArVzA1NCAqL1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dHJ5IHsgdmFsID0gSlNPTi5wYXJzZSh2YWwpOyB9XG5cdFx0XHRcdFx0XHRcdGNhdGNoKGUpIHt9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb25maWdbbmFtZV0gPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBjb25maWc7XG5cdFx0fSxcblxuXHRcdC8qIFVzZWQgdG8gY3JlYXRlIGEgRmVhdGhlcmxpZ2h0IGV4dGVuc2lvblxuXHRcdCAgIFtXYXJuaW5nOiBndXJ1LWxldmVsXVxuXHRcdCAgIENyZWF0ZXMgdGhlIGV4dGVuc2lvbidzIHByb3RvdHlwZSB0aGF0IGluIHR1cm5cblx0XHQgICBpbmhlcml0cyBGZWF0aGVybGlnaHQncyBwcm90b3R5cGUuXG5cdFx0ICAgQ291bGQgYmUgdXNlZCB0byBleHRlbmQgYW4gZXh0ZW5zaW9uIHRvby4uLlxuXHRcdCAgIFRoaXMgaXMgcHJldHR5IGhpZ2ggbGV2ZWwgd2l6YXJkeSwgaXQgY29tZXMgcHJldHR5IG11Y2ggc3RyYWlnaHRcblx0XHQgICBmcm9tIENvZmZlZVNjcmlwdCBhbmQgd29uJ3QgdGVhY2ggeW91IGFueXRoaW5nIGFib3V0IEZlYXRoZXJsaWdodFxuXHRcdCAgIGFzIGl0J3Mgbm90IHJlYWxseSBzcGVjaWZpYyB0byB0aGlzIGxpYnJhcnkuXG5cdFx0ICAgTXkgc3VnZ2VzdGlvbjogbW92ZSBhbG9uZyBhbmQga2VlcCB5b3VyIHNhbml0eS5cblx0XHQqL1xuXHRcdGV4dGVuZDogZnVuY3Rpb24oY2hpbGQsIGRlZmF1bHRzKSB7XG5cdFx0XHQvKiBTZXR1cCBjbGFzcyBoaWVyYXJjaHksIGFkYXB0ZWQgZnJvbSBDb2ZmZWVTY3JpcHQgKi9cblx0XHRcdHZhciBDdG9yID0gZnVuY3Rpb24oKXsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9O1xuXHRcdFx0Q3Rvci5wcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcblx0XHRcdGNoaWxkLnByb3RvdHlwZSA9IG5ldyBDdG9yKCk7XG5cdFx0XHRjaGlsZC5fX3N1cGVyX18gPSB0aGlzLnByb3RvdHlwZTtcblx0XHRcdC8qIENvcHkgY2xhc3MgbWV0aG9kcyAmIGF0dHJpYnV0ZXMgKi9cblx0XHRcdCQuZXh0ZW5kKGNoaWxkLCB0aGlzLCBkZWZhdWx0cyk7XG5cdFx0XHRjaGlsZC5kZWZhdWx0cyA9IGNoaWxkLnByb3RvdHlwZTtcblx0XHRcdHJldHVybiBjaGlsZDtcblx0XHR9LFxuXG5cdFx0YXR0YWNoOiBmdW5jdGlvbigkc291cmNlLCAkY29udGVudCwgY29uZmlnKSB7XG5cdFx0XHR2YXIgS2xhc3MgPSB0aGlzO1xuXHRcdFx0aWYgKHR5cGVvZiAkY29udGVudCA9PT0gJ29iamVjdCcgJiYgJGNvbnRlbnQgaW5zdGFuY2VvZiAkID09PSBmYWxzZSAmJiAhY29uZmlnKSB7XG5cdFx0XHRcdGNvbmZpZyA9ICRjb250ZW50O1xuXHRcdFx0XHQkY29udGVudCA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdC8qIG1ha2UgYSBjb3B5ICovXG5cdFx0XHRjb25maWcgPSAkLmV4dGVuZCh7fSwgY29uZmlnKTtcblxuXHRcdFx0LyogT25seSBmb3Igb3BlblRyaWdnZXIsIGZpbHRlciAmIG5hbWVzcGFjZS4uLiAqL1xuXHRcdFx0dmFyIG5hbWVzcGFjZSA9IGNvbmZpZy5uYW1lc3BhY2UgfHwgS2xhc3MuZGVmYXVsdHMubmFtZXNwYWNlLFxuXHRcdFx0XHR0ZW1wQ29uZmlnID0gJC5leHRlbmQoe30sIEtsYXNzLmRlZmF1bHRzLCBLbGFzcy5yZWFkRWxlbWVudENvbmZpZygkc291cmNlWzBdLCBuYW1lc3BhY2UpLCBjb25maWcpLFxuXHRcdFx0XHRzaGFyZWRQZXJzaXN0O1xuXHRcdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHR2YXIgJHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG5cdFx0XHRcdC8qIC4uLiBzaW5jZSB3ZSBtaWdodCBhcyB3ZWxsIGNvbXB1dGUgdGhlIGNvbmZpZyBvbiB0aGUgYWN0dWFsIHRhcmdldCAqL1xuXHRcdFx0XHR2YXIgZWxlbUNvbmZpZyA9ICQuZXh0ZW5kKFxuXHRcdFx0XHRcdHskc291cmNlOiAkc291cmNlLCAkY3VycmVudFRhcmdldDogJHRhcmdldH0sXG5cdFx0XHRcdFx0S2xhc3MucmVhZEVsZW1lbnRDb25maWcoJHNvdXJjZVswXSwgdGVtcENvbmZpZy5uYW1lc3BhY2UpLFxuXHRcdFx0XHRcdEtsYXNzLnJlYWRFbGVtZW50Q29uZmlnKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRlbXBDb25maWcubmFtZXNwYWNlKSxcblx0XHRcdFx0XHRjb25maWcpO1xuXHRcdFx0XHR2YXIgZmwgPSBzaGFyZWRQZXJzaXN0IHx8ICR0YXJnZXQuZGF0YSgnZmVhdGhlcmxpZ2h0LXBlcnNpc3RlZCcpIHx8IG5ldyBLbGFzcygkY29udGVudCwgZWxlbUNvbmZpZyk7XG5cdFx0XHRcdGlmKGZsLnBlcnNpc3QgPT09ICdzaGFyZWQnKSB7XG5cdFx0XHRcdFx0c2hhcmVkUGVyc2lzdCA9IGZsO1xuXHRcdFx0XHR9IGVsc2UgaWYoZmwucGVyc2lzdCAhPT0gZmFsc2UpIHtcblx0XHRcdFx0XHQkdGFyZ2V0LmRhdGEoJ2ZlYXRoZXJsaWdodC1wZXJzaXN0ZWQnLCBmbCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGVsZW1Db25maWcuJGN1cnJlbnRUYXJnZXQuYmx1cikge1xuXHRcdFx0XHRcdGVsZW1Db25maWcuJGN1cnJlbnRUYXJnZXQuYmx1cigpOyAvLyBPdGhlcndpc2UgJ2VudGVyJyBrZXkgbWlnaHQgdHJpZ2dlciB0aGUgZGlhbG9nIGFnYWluXG5cdFx0XHRcdH1cblx0XHRcdFx0Zmwub3BlbihldmVudCk7XG5cdFx0XHR9O1xuXG5cdFx0XHQkc291cmNlLm9uKHRlbXBDb25maWcub3BlblRyaWdnZXIrJy4nK3RlbXBDb25maWcubmFtZXNwYWNlLCB0ZW1wQ29uZmlnLmZpbHRlciwgaGFuZGxlcik7XG5cblx0XHRcdHJldHVybiB7ZmlsdGVyOiB0ZW1wQ29uZmlnLmZpbHRlciwgaGFuZGxlcjogaGFuZGxlcn07XG5cdFx0fSxcblxuXHRcdGN1cnJlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFsbCA9IHRoaXMub3BlbmVkKCk7XG5cdFx0XHRyZXR1cm4gYWxsW2FsbC5sZW5ndGggLSAxXSB8fCBudWxsO1xuXHRcdH0sXG5cblx0XHRvcGVuZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGtsYXNzID0gdGhpcztcblx0XHRcdHBydW5lT3BlbmVkKCk7XG5cdFx0XHRyZXR1cm4gJC5ncmVwKG9wZW5lZCwgZnVuY3Rpb24oZmwpIHsgcmV0dXJuIGZsIGluc3RhbmNlb2Yga2xhc3M7IH0gKTtcblx0XHR9LFxuXG5cdFx0Y2xvc2U6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHR2YXIgY3VyID0gdGhpcy5jdXJyZW50KCk7XG5cdFx0XHRpZihjdXIpIHsgcmV0dXJuIGN1ci5jbG9zZShldmVudCk7IH1cblx0XHR9LFxuXG5cdFx0LyogRG9lcyB0aGUgYXV0byBiaW5kaW5nIG9uIHN0YXJ0dXAuXG5cdFx0ICAgTWVhbnQgb25seSB0byBiZSB1c2VkIGJ5IEZlYXRoZXJsaWdodCBhbmQgaXRzIGV4dGVuc2lvbnNcblx0XHQqL1xuXHRcdF9vblJlYWR5OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBLbGFzcyA9IHRoaXM7XG5cdFx0XHRpZihLbGFzcy5hdXRvQmluZCl7XG5cdFx0XHRcdHZhciAkYXV0b2JvdW5kID0gJChLbGFzcy5hdXRvQmluZCk7XG5cdFx0XHRcdC8qIEJpbmQgZXhpc3RpbmcgZWxlbWVudHMgKi9cblx0XHRcdFx0JGF1dG9ib3VuZC5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0S2xhc3MuYXR0YWNoKCQodGhpcykpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0LyogSWYgYSBjbGljayBwcm9wYWdhdGVzIHRvIHRoZSBkb2N1bWVudCBsZXZlbCwgdGhlbiB3ZSBoYXZlIGFuIGl0ZW0gdGhhdCB3YXMgYWRkZWQgbGF0ZXIgb24gKi9cblx0XHRcdFx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgS2xhc3MuYXV0b0JpbmQsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0XHRcdGlmIChldnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyICRjdXIgPSAkKGV2dC5jdXJyZW50VGFyZ2V0KTtcblx0XHRcdFx0XHR2YXIgbGVuID0gJGF1dG9ib3VuZC5sZW5ndGg7XG5cdFx0XHRcdFx0JGF1dG9ib3VuZCA9ICRhdXRvYm91bmQuYWRkKCRjdXIpO1xuXHRcdFx0XHRcdGlmKGxlbiA9PT0gJGF1dG9ib3VuZC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHJldHVybjsgLyogYWxyZWFkeSBib3VuZCAqL1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvKiBCaW5kIGZlYXRoZXJsaWdodCAqL1xuXHRcdFx0XHRcdHZhciBkYXRhID0gS2xhc3MuYXR0YWNoKCRjdXIpO1xuXHRcdFx0XHRcdC8qIERpc3BhdGNoIGV2ZW50IGRpcmVjdGx5ICovXG5cdFx0XHRcdFx0aWYgKCFkYXRhLmZpbHRlciB8fCAkKGV2dC50YXJnZXQpLnBhcmVudHNVbnRpbCgkY3VyLCBkYXRhLmZpbHRlcikubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0ZGF0YS5oYW5kbGVyKGV2dCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyogRmVhdGhlcmxpZ2h0IHVzZXMgdGhlIG9uS2V5VXAgY2FsbGJhY2sgdG8gaW50ZXJjZXB0IHRoZSBlc2NhcGUga2V5LlxuXHRcdCAgIFByaXZhdGUgdG8gRmVhdGhlcmxpZ2h0LlxuXHRcdCovXG5cdFx0X2NhbGxiYWNrQ2hhaW46IHtcblx0XHRcdG9uS2V5VXA6IGZ1bmN0aW9uKF9zdXBlciwgZXZlbnQpe1xuXHRcdFx0XHRpZigyNyA9PT0gZXZlbnQua2V5Q29kZSkge1xuXHRcdFx0XHRcdGlmICh0aGlzLmNsb3NlT25Fc2MpIHtcblx0XHRcdFx0XHRcdCQuZmVhdGhlcmxpZ2h0LmNsb3NlKGV2ZW50KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBfc3VwZXIoZXZlbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRiZWZvcmVPcGVuOiBmdW5jdGlvbihfc3VwZXIsIGV2ZW50KSB7XG5cdFx0XHRcdC8vIFVzZWQgdG8gZGlzYWJsZSBzY3JvbGxpbmdcblx0XHRcdFx0JChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFkZENsYXNzKCd3aXRoLWZlYXRoZXJsaWdodCcpO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIGZvY3VzOlxuXHRcdFx0XHR0aGlzLl9wcmV2aW91c2x5QWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuXHRcdFx0XHQvLyBEaXNhYmxlIHRhYmJpbmc6XG5cdFx0XHRcdC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1OTk2NjAvd2hpY2gtaHRtbC1lbGVtZW50cy1jYW4tcmVjZWl2ZS1mb2N1c1xuXHRcdFx0XHR0aGlzLl8kcHJldmlvdXNseVRhYmJhYmxlID0gJChcImEsIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBpZnJhbWUsIGJ1dHRvbiwgaWZyYW1lLCBbY29udGVudEVkaXRhYmxlPXRydWVdXCIpXG5cdFx0XHRcdFx0Lm5vdCgnW3RhYmluZGV4XScpXG5cdFx0XHRcdFx0Lm5vdCh0aGlzLiRpbnN0YW5jZS5maW5kKCdidXR0b24nKSk7XG5cblx0XHRcdFx0dGhpcy5fJHByZXZpb3VzbHlXaXRoVGFiSW5kZXggPSAkKCdbdGFiaW5kZXhdJykubm90KCdbdGFiaW5kZXg9XCItMVwiXScpO1xuXHRcdFx0XHR0aGlzLl9wcmV2aW91c1dpdGhUYWJJbmRpY2VzID0gdGhpcy5fJHByZXZpb3VzbHlXaXRoVGFiSW5kZXgubWFwKGZ1bmN0aW9uKF9pLCBlbGVtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQoZWxlbSkuYXR0cigndGFiaW5kZXgnKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5fJHByZXZpb3VzbHlXaXRoVGFiSW5kZXguYWRkKHRoaXMuXyRwcmV2aW91c2x5VGFiYmFibGUpLmF0dHIoJ3RhYmluZGV4JywgLTEpO1xuXG5cdFx0XHRcdGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIpIHtcblx0XHRcdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gX3N1cGVyKGV2ZW50KTtcblx0XHRcdH0sXG5cblx0XHRcdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKF9zdXBlciwgZXZlbnQpIHtcblx0XHRcdFx0dmFyIHIgPSBfc3VwZXIoZXZlbnQpO1xuXHRcdFx0XHQvLyBSZXN0b3JlIGZvY3VzXG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdFx0dGhpcy5fJHByZXZpb3VzbHlUYWJiYWJsZS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuXHRcdFx0XHR0aGlzLl8kcHJldmlvdXNseVdpdGhUYWJJbmRleC5lYWNoKGZ1bmN0aW9uKGksIGVsZW0pIHtcblx0XHRcdFx0XHQkKGVsZW0pLmF0dHIoJ3RhYmluZGV4Jywgc2VsZi5fcHJldmlvdXNXaXRoVGFiSW5kaWNlc1tpXSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0aGlzLl9wcmV2aW91c2x5QWN0aXZlLmZvY3VzKCk7XG5cdFx0XHRcdC8vIFJlc3RvcmUgc2Nyb2xsXG5cdFx0XHRcdGlmKEZlYXRoZXJsaWdodC5vcGVuZWQoKS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHQkKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkucmVtb3ZlQ2xhc3MoJ3dpdGgtZmVhdGhlcmxpZ2h0Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHI7XG5cdFx0XHR9LFxuXG5cdFx0XHRvblJlc2l6ZTogZnVuY3Rpb24oX3N1cGVyLCBldmVudCl7XG5cdFx0XHRcdHRoaXMucmVzaXplKHRoaXMuJGNvbnRlbnQubmF0dXJhbFdpZHRoLCB0aGlzLiRjb250ZW50Lm5hdHVyYWxIZWlnaHQpO1xuXHRcdFx0XHRyZXR1cm4gX3N1cGVyKGV2ZW50KTtcblx0XHRcdH0sXG5cblx0XHRcdGFmdGVyQ29udGVudDogZnVuY3Rpb24oX3N1cGVyLCBldmVudCl7XG5cdFx0XHRcdHZhciByID0gX3N1cGVyKGV2ZW50KTtcblx0XHRcdFx0dGhpcy4kaW5zdGFuY2UuZmluZCgnW2F1dG9mb2N1c106bm90KFtkaXNhYmxlZF0pJykuZm9jdXMoKTtcblx0XHRcdFx0dGhpcy5vblJlc2l6ZShldmVudCk7XG5cdFx0XHRcdHJldHVybiByO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0JC5mZWF0aGVybGlnaHQgPSBGZWF0aGVybGlnaHQ7XG5cblx0LyogYmluZCBqUXVlcnkgZWxlbWVudHMgdG8gdHJpZ2dlciBmZWF0aGVybGlnaHQgKi9cblx0JC5mbi5mZWF0aGVybGlnaHQgPSBmdW5jdGlvbigkY29udGVudCwgY29uZmlnKSB7XG5cdFx0RmVhdGhlcmxpZ2h0LmF0dGFjaCh0aGlzLCAkY29udGVudCwgY29uZmlnKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKiBiaW5kIGZlYXRoZXJsaWdodCBvbiByZWFkeSBpZiBjb25maWcgYXV0b0JpbmQgaXMgc2V0ICovXG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7IEZlYXRoZXJsaWdodC5fb25SZWFkeSgpOyB9KTtcbn0oalF1ZXJ5KSk7XG4iXX0=
